{"version":3,"file":"static/js/866.4659a476.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","api/index.js","webpack://goit-react-hw-05-movies/./src/pages/Reviews/Reviews.module.css?9a3e","pages/Reviews/Reviews.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","// const API_KEY = 'a803ac3d2a57bd184847aa6123688c2b'\n// https://api.themoviedb.org/3/trending/all/day?api_key=a803ac3d2a57bd184847aa6123688c2b\nconst API_KEY_CODE =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhODAzYWMzZDJhNTdiZDE4NDg0N2FhNjEyMzY4OGMyYiIsInN1YiI6IjY0YzZiY2JjNjNlNmZiMDBjNDA5ODk4MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.b4_b4v2aFt1MJPqiC2-ZpicuVjibXdang7REL2t1nu8';\n\nexport const fetchMovies = async () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const response = await fetch(\n      'https://api.themoviedb.org/3/trending/all/day',\n      options\n    );\n\n    if (!response.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const data = await response.json();\n    // const movies = data.results;\n    // console.log(movies);\n    return data;\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n      options\n    ); // Przekazujemy identyfikator filmu w URL\n\n    if (!response.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchCast = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const [movieResponse, castResponse] = await Promise.all([\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n        options\n      ),\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n        options\n      ),\n    ]);\n\n    if (!movieResponse.ok || !castResponse.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const movieData = await movieResponse.json();\n    const castData = await castResponse.json();\n\n    return { movie: movieData, cast: castData.cast };\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchReviews = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const [movieResponse, reviewResponse] = await Promise.all([\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n        options\n      ),\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US`,\n        options\n      ),\n    ]);\n\n    if (!movieResponse.ok || !reviewResponse.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const movieData = await movieResponse.json();\n    const reviewData = await reviewResponse.json();\n\n    return { movie: movieData, review: reviewData.results };\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchSearch = async (query) => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY_CODE}&query=${query}`,\n      options\n    );\n\n    if (!response.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const data = await response.json();\n    return data;\n\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Reviews_wrapper__0m-8S\",\"reviewTitle\":\"Reviews_reviewTitle__HMURj\",\"review\":\"Reviews_review__g0Nb8\"};","import React, { useState, useEffect } from 'react';\nimport { fetchReviews } from 'api';\nimport { useParams } from 'react-router-dom';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [review, setReview] = useState([]);\n\n  useEffect(() => {\n    fetchReviews(movieId)\n      .then(data => {\n        setMovie(data.movie);\n        setReview(data.review);\n      })\n      .catch(error => {\n        console.log('An error occurred', error);\n      });\n  }, [movieId]);\n\n  if (!movie) {\n    return <div>Loading...</div>;\n  }\n\n  if (review.length === 0) {\n    return <div style={{ marginLeft: '20px' }}>There are no reviews</div>;\n  }\n\n  return (\n    <div className={css.wrapper}>\n      <h3>Reviews:</h3>\n      <div className={css.reviews}>\n        {review.map(review => (\n          <div key={review.id} className={css.review}>\n            <h4 className={css.reviewTitle}>Review: {review.author}</h4>\n            <p className={css.review}>{review.content}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Reviews;"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","API_KEY_CODE","fetchMovies","options","method","headers","accept","Authorization","fetch","response","ok","Error","json","data","console","log","fetchMovieDetails","movieId","fetchCast","all","movieResponse","castResponse","movieData","castData","movie","cast","fetchReviews","reviewResponse","reviewData","review","results","fetchSearch","query","useParams","useState","setMovie","setReview","useEffect","catch","length","style","marginLeft","className","css","map","author","content","id"],"sourceRoot":""}