{"version":3,"file":"static/js/881.3d67f207.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","api/index.js","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","// const API_KEY = 'a803ac3d2a57bd184847aa6123688c2b'\n// https://api.themoviedb.org/3/trending/all/day?api_key=a803ac3d2a57bd184847aa6123688c2b\nconst API_KEY_CODE =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhODAzYWMzZDJhNTdiZDE4NDg0N2FhNjEyMzY4OGMyYiIsInN1YiI6IjY0YzZiY2JjNjNlNmZiMDBjNDA5ODk4MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.b4_b4v2aFt1MJPqiC2-ZpicuVjibXdang7REL2t1nu8';\n\nexport const fetchMovies = async () => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const response = await fetch(\n      'https://api.themoviedb.org/3/trending/all/day',\n      options\n    );\n\n    if (!response.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const data = await response.json();\n    // const movies = data.results;\n    // console.log(movies);\n    return data;\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n      options\n    ); // Przekazujemy identyfikator filmu w URL\n\n    if (!response.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchCast = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const [movieResponse, castResponse] = await Promise.all([\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n        options\n      ),\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n        options\n      ),\n    ]);\n\n    if (!movieResponse.ok || !castResponse.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const movieData = await movieResponse.json();\n    const castData = await castResponse.json();\n\n    return { movie: movieData, cast: castData.cast };\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchReviews = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const [movieResponse, reviewResponse] = await Promise.all([\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n        options\n      ),\n      fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US`,\n        options\n      ),\n    ]);\n\n    if (!movieResponse.ok || !reviewResponse.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const movieData = await movieResponse.json();\n    const reviewData = await reviewResponse.json();\n\n    return { movie: movieData, review: reviewData.results };\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};\n\nexport const fetchSearch = async (query) => {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization: `Bearer ${API_KEY_CODE}`,\n    },\n  };\n\n  try {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY_CODE}&query=${query}`,\n      options\n    );\n\n    if (!response.ok) {\n      throw new Error('Network response failed');\n    }\n\n    const data = await response.json();\n    return data;\n\n  } catch (error) {\n    console.log('An error occurred', error);\n    return error;\n  }\n};","// extracted by mini-css-extract-plugin\nexport default {\"movieSearch\":\"Movies_movieSearch__IgDa9\",\"inputSearch\":\"Movies_inputSearch__-lVX2\",\"results\":\"Movies_results__l5U2w\",\"wrapper\":\"Movies_wrapper__RVmCE\",\"movie-card\":\"Movies_movie-card__KoRM0\",\"movie-title\":\"Movies_movie-title__OeXYd\"};","import { useSearchParams, Link } from 'react-router-dom';\nimport { fetchSearch } from 'api';\nimport React, { useState, useEffect } from 'react';\nimport css from './Movies.module.css';\n\n const Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    const title = searchParams.get('title') || '';\n    setSearchQuery(title);\n  }, [searchParams]);\n\n  useEffect(() => {\n    fetchSearch(searchQuery)\n      .then(data => {\n        const filteredMovies = data.results.filter(\n          movie => movie.poster_path !== null\n        );\n        setMovies(filteredMovies);\n      })\n      .catch(error => {\n        console.log('An error occurred', error);\n      });\n  }, [searchQuery]);\n  const handleInput = title => {\n    setSearchQuery(title);\n  };\n\n  const imageUrlBase = 'https://image.tmdb.org/t/p/';\n  const imageSize = 'w500';\n\n  return (\n    <div className={css.movieSearch}>\n      {/* <form onSubmit={handleSubmit}> */}\n      <input\n        className={css.inputSearch}\n        type=\"text\"\n        value={searchQuery}\n        onChange={e => handleInput(e.target.value)}\n        placeholder=\"Search movies\"\n      />\n      {/* <button type=\"submit\">Search</button> */}\n      {/* </form> */}\n      <div className={css.results}> {movies.length > 0 ? 'Results' : null}</div>\n      <div className={css.wrapper}>\n        {movies.map(movie => (\n          <Link\n            to={`/movies/${movie.id}`}\n            key={movie.id}\n            className={css['movie-card']}\n          >\n            <img\n              src={imageUrlBase + imageSize + movie.poster_path}\n              alt=\"movie poster\"\n            />\n            <div className={css['movie-title']}>{movie.title}</div>\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Movies;"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","API_KEY_CODE","fetchMovies","options","method","headers","accept","Authorization","fetch","response","ok","Error","json","data","console","log","fetchMovieDetails","movieId","fetchCast","all","movieResponse","castResponse","movieData","castData","movie","cast","fetchReviews","reviewResponse","reviewData","review","results","fetchSearch","query","useState","movies","setMovies","useSearchParams","searchParams","searchQuery","setSearchQuery","useEffect","title","get","filteredMovies","filter","poster_path","catch","className","css","type","onChange","e","target","placeholder","length","map","to","id","src","imageUrlBase","alt"],"sourceRoot":""}